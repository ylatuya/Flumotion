<registry>

  <components>
    <component type="single-switch-combiner"
               base="flumotion/component/combiners/switch"
               description="A single stream type switching component">
      <source location="flumotion.component.combiners.switch.switch" />
      <eater name="master" />
      <eater name="backup" />
      <feeder name="default" />
      <entries>
        <entry type="component" location="switch.py"
               function="SingleSwitch" />
	<entry type="admin/gtk" location="admin_gtk.py"
               function="GUIClass" />
      </entries>
      <properties>
        <property name="ical-schedule" type="string" required="no" />
      </properties>
    </component>
    <component type="av-switch-combiner"
               base="flumotion/component/combiners/switch"
	       description="An audio/video switching component">
      <source location="flumotion.component.combiners.switch.switch" />
      <eater name="video-master" />
      <eater name="video-backup" />
      <eater name="audio-master" />
      <eater name="audio-backup" />
      <feeder name="video" />
      <feeder name="audio" />
      <entries>
        <entry type="component" location="switch.py"
	       function="AVSwitch" />
	<entry type="admin/gtk" location="admin_gtk.py"
               function="GUIClass" />
      </entries>
      <properties>
        <property name="ical-schedule" type="string" required="no" />
	<property name="video-width" type="int" required="no" />
	<property name="video-height" type="int" required="no" />
	<property name="video-framerate" type="fraction" required="no" />
	<property name="video-pixel-aspect-ratio" type="fraction" 
	          required="no" />
	<property name="audio-samplerate" type="int" required="no" />
	<property name="audio-channels" type="int" required="no" />
      </properties>
    </component>
    <component type="single-basic-watchdog-combiner"
               base="flumotion/component/combiners/switch"
               description="A basic single stream type watchdog component">
      <source location="flumotion.component.combiners.switch.basicwatchdog" />
      <eater name="master" />
      <eater name="backup" />
      <feeder name="default" />
      <entries>
        <entry type="component" location="basicwatchdog.py"
               function="SingleBasicWatchdog" />
	<entry type="admin/gtk" location="admin_gtk.py"
               function="GUIClass" />
      </entries>
      <properties>
        <property name="ical-schedule" type="string" required="no" />
      </properties>
    </component>
    <component type="av-basic-watchdog-combiner"
               base="flumotion/component/combiners/switch"
               description="A basic audio/video watchdog component">
      <source location="flumotion.component.combiners.switch.basicwatchdog" />
      <eater name="video-master" />
      <eater name="video-backup" />
      <eater name="audio-master" />
      <eater name="audio-backup" />
      <feeder name="video" />
      <feeder name="audio" />
      <entries>
        <entry type="component" location="basicwatchdog.py"
               function="AVBasicWatchdog" />
	<entry type="admin/gtk" location="admin_gtk.py"
               function="GUIClass" />
      </entries>
      <properties>
        <property name="ical-schedule" type="string" required="no" />
	<property name="video-width" type="int" required="no" />
	<property name="video-height" type="int" required="no" />
	<property name="video-framerate" type="fraction" required="no" />
	<property name="video-pixel-aspect-ratio" type="fraction" 
	          required="no" />
	<property name="audio-samplerate" type="int" required="no" />
	<property name="audio-channels" type="int" required="no" />
      </properties>
    </component>

  </components>


  <bundles>

    <bundle name="switch-combiner-base">
        <dependencies>
            <dependency name="component-base" />
        </dependencies>

        <directories>
            <directory name="flumotion/component/combiners/switch">
                <filename location="__init__.py" />
            </directory>
        </directories>
    </bundle>

    <bundle name="switch-combiner-component">
        <dependencies>
            <dependency name="component" />
            <dependency name="switch-converter-base" />
	    <dependency name="base-scheduler" />
        </dependencies>

        <directories>
            <directory name="flumotion/component/combiners/switch">
                <filename location="switch.py" />
            </directory>
        </directories>
    </bundle>

    <bundle name="switch-combiner-basic-watchdog">
        <dependencies>
	    <dependency name="switch-combiner-component" />
	</dependencies>
	<directories>
	    <directory name="flumotion/component/combiners/switch">
	        <filename location="basicwatchdog.py" />
	    </directory>
	</directories>
    </bundle>

    <bundle name="switch-combiner-admin-gtk">
        <dependencies>
            <dependency name="base-admin-gtk"/>
	    <dependency name="switch-combiner-base"/>
        </dependencies>
        
        <directories>
            <directory name="flumotion/component/combiners/switch">
                <filename location="admin_gtk.py"/>
            </directory>
        </directories>
    </bundle>


  </bundles>

</registry> 
