/var/log/flumotion/*.log {
    missingok
    notifempty
    dateext
    sharedscripts
    nocreate
    weekly
    # keep 4 weeks of data
    rotate 4
    postrotate
        find /var/run/flumotion -type f -print | while read f; do
            /usr/bin/kill -HUP `cat $f 2>/dev/null` 2>/dev/null || true
        done
    endscript
}

